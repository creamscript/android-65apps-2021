# Рефакторинг функционала напоминания о дне рождения через тестирование кода

Необходимо произвести рефакторинг функционала напоминания о дне рождения и покрыть его тестами на 2-х уровнях:
- модульные тесты
- интеграционные тесты

Спецификации для тестов:

Сценарий: успешное добавление напоминания
Текущий год - 1999(не високосный) 9 сентября
Есть контакт Иван Иванович с датой рождения 8 сентября
И напоминание для этого контакта отсутствует

Когда пользователь кликает на кнопку напоминания в детальной информации контакта Иван Иванович

Тогда происходит успешное добавление напоминания на 2000 год 8 сентября

Сценарий: успешное добавление напоминания, ДР еще в текущем году не было
Текущий год - 1999(не високосный) 7 сентября
Есть контакт Иван Иванович с датой рождения 8 сентября
И напоминание для этого контакта отсутствует

Когда пользователь кликает на кнопку напоминания в детальной информации контакта Иван Иванович

Тогда происходит успешное добавление напоминания на 1999 год 8 сентября

Сценарий: успешное удаление напоминания
Текущий год - 1999(не високосный)
Есть контакт Иван Иванович с датой рождения 8 сентября
И для него включено напоминание на 2000 год 8 сентября

Когда пользователь кликает на кнопку напоминания в детальной информации контакта Иван Иванович

Тогда происходит успешное удаление напоминания

Сценарий: добавление напоминания для контакта родившегося 29 февраля
Текущий год - 1999(не високосный), следующий 2000(високосный) 2 марта
Есть контакт Павел Павлович с датой рождения 29 февраля
И напоминание для этого контакта отсутствует

Когда пользователь кликает на кнопку напоминания в детальной информации контакта Павел Павлович

Тогда происходит успешное добавление напоминания на 2000 год 29 февраля

Сценарий: добавление напоминания для контакта родившегося 29 февраля в високосный год
Текущий год - 2000(високосный) 1 марта
Есть контакт Павел Павлович с датой рождения 29 февраля
И напоминание для этого контакта отсутствует

Когда пользователь кликает на кнопку напоминания в детальной информации контакта Павел Павлович

Тогда происходит успешное добавление напоминания на 2004 год 29 февраля(т.е. пропускаем 4 года, представим, что бедняги празднуют ДР раз в 4 года)

Дополнительное, необязательное задание: выделить сценарии тестирования для остального функционала, довести покрытие кода тестами до 50 - 60%

https://site.mockito.org/

https://docs.gradle.org/current/userguide/jacoco_plugin.html

https://developer.android.com/training/testing/unit-testing/local-unit-tests

https://developer.android.com/training/testing/unit-testing/instrumented-unit-tests

https://developer.android.com/training/testing/ui-testing/espresso-testing